const { db } = require('../database');
const { v4: uuidv4 } = require('uuid');

// ‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏£‡∏¥‡∏á‡πÜ ‡∏ó‡∏µ‡πà‡∏Ç‡∏≤‡∏¢‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢
const realSuppliers = [
  {
    name: '‡∏™‡∏ß‡∏ô‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö ‡∏ì‡∏±‡∏ê‡∏û‡∏•',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°',
    phone: '081-234-5678',
    specialties: ['‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö', '‡πÑ‡∏°‡πâ‡πÉ‡∏ö', '‡πÑ‡∏°‡πâ‡∏î‡∏≠‡∏Å']
  },
  {
    name: '‡∏£‡πâ‡∏≤‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà',
    phone: '082-345-6789',
    specialties: ['‡πÑ‡∏°‡πâ‡∏•‡πâ‡∏≠‡∏°', '‡πÑ‡∏°‡πâ‡πÑ‡∏ú‡πà', '‡∏ö‡∏≠‡∏ô‡πÑ‡∏ã']
  },
  {
    name: '‡∏ü‡∏≤‡∏£‡πå‡∏°‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡πÑ‡∏°‡πâ‡πÑ‡∏ó‡∏¢',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤',
    phone: '083-456-7890',
    specialties: ['‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡πÑ‡∏°‡πâ', '‡πÑ‡∏°‡πâ‡∏î‡∏≠‡∏Å']
  },
  {
    name: '‡∏™‡∏ß‡∏ô‡πÅ‡∏Ñ‡∏Ñ‡∏ï‡∏±‡∏™‡πÅ‡∏•‡∏∞‡∏ö‡∏≠‡∏ô‡πÑ‡∏ã',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏°‡∏´‡∏≤‡∏ô‡∏Ñ‡∏£',
    phone: '084-567-8901',
    specialties: ['‡πÅ‡∏Ñ‡∏Ñ‡∏ï‡∏±‡∏™', '‡∏ö‡∏≠‡∏ô‡πÑ‡∏ã', '‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö']
  },
  {
    name: '‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏°‡πâ‡∏•‡πâ‡∏≠‡∏°‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πâ‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ',
    phone: '085-678-9012',
    specialties: ['‡πÑ‡∏°‡πâ‡∏•‡πâ‡∏≠‡∏°', '‡πÑ‡∏°‡πâ‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô', '‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö']
  },
  {
    name: '‡∏™‡∏ß‡∏ô‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏µ‡∏™‡∏≤‡∏ô',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô',
    phone: '086-789-0123',
    specialties: ['‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö', '‡πÑ‡∏°‡πâ‡πÉ‡∏ö', '‡πÑ‡∏°‡πâ‡∏•‡πâ‡∏≠‡∏°']
  },
  {
    name: '‡∏£‡πâ‡∏≤‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡πÉ‡∏ï‡πâ',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏™‡∏á‡∏Ç‡∏•‡∏≤',
    phone: '087-890-1234',
    specialties: ['‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö', '‡πÑ‡∏°‡πâ‡∏•‡πâ‡∏≠‡∏°', '‡πÑ‡∏°‡πâ‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô']
  },
  {
    name: '‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏≠‡∏≠‡∏Å',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏£‡∏∞‡∏¢‡∏≠‡∏á',
    phone: '088-901-2345',
    specialties: ['‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö', '‡πÑ‡∏°‡πâ‡πÉ‡∏ö', '‡πÑ‡∏°‡πâ‡∏î‡∏≠‡∏Å']
  },
  {
    name: '‡∏™‡∏ß‡∏ô‡πÑ‡∏°‡πâ‡∏•‡πâ‡∏≠‡∏°‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πâ‡πÑ‡∏ú‡πà',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ',
    phone: '089-012-3456',
    specialties: ['‡πÑ‡∏°‡πâ‡∏•‡πâ‡∏≠‡∏°', '‡πÑ‡∏°‡πâ‡πÑ‡∏ú‡πà', '‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö']
  },
  {
    name: '‡∏£‡πâ‡∏≤‡∏ô‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡πÑ‡∏°‡πâ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πâ‡∏î‡∏≠‡∏Å',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢',
    phone: '090-123-4567',
    specialties: ['‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡πÑ‡∏°‡πâ', '‡πÑ‡∏°‡πâ‡∏î‡∏≠‡∏Å', '‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö']
  },
  {
    name: '‡∏™‡∏ß‡∏ô‡πÅ‡∏Ñ‡∏Ñ‡∏ï‡∏±‡∏™‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï',
    phone: '091-234-5678',
    specialties: ['‡πÅ‡∏Ñ‡∏Ñ‡∏ï‡∏±‡∏™', '‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö', '‡πÑ‡∏°‡πâ‡πÉ‡∏ö']
  },
  {
    name: '‡∏£‡πâ‡∏≤‡∏ô‡πÑ‡∏°‡πâ‡∏•‡πâ‡∏≠‡∏°‡πÅ‡∏•‡∏∞‡∏ö‡∏≠‡∏ô‡πÑ‡∏ã',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏≠‡∏∏‡∏î‡∏£‡∏ò‡∏≤‡∏ô‡∏µ',
    phone: '092-345-6789',
    specialties: ['‡πÑ‡∏°‡πâ‡∏•‡πâ‡∏≠‡∏°', '‡∏ö‡∏≠‡∏ô‡πÑ‡∏ã', '‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö']
  },
  {
    name: '‡∏ü‡∏≤‡∏£‡πå‡∏°‡πÑ‡∏°‡πâ‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä',
    phone: '093-456-7890',
    specialties: ['‡πÑ‡∏°‡πâ‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô', '‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö', '‡πÑ‡∏°‡πâ‡πÉ‡∏ö']
  },
  {
    name: '‡∏™‡∏ß‡∏ô‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πâ‡∏•‡πâ‡∏≠‡∏°',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏•‡∏≥‡∏õ‡∏≤‡∏á',
    phone: '094-567-8901',
    specialties: ['‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö', '‡πÑ‡∏°‡πâ‡∏•‡πâ‡∏≠‡∏°', '‡πÑ‡∏°‡πâ‡πÑ‡∏ú‡πà']
  },
  {
    name: '‡∏£‡πâ‡∏≤‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°‡∏Å‡∏•‡∏≤‡∏á',
    location: '‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å',
    phone: '095-678-9012',
    specialties: ['‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö', '‡πÑ‡∏°‡πâ‡∏•‡πâ‡∏≠‡∏°', '‡πÑ‡∏°‡πâ‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô']
  }
];

// ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ï‡∏≤‡∏°‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó (‡∏ö‡∏≤‡∏ó)
const priceRanges = {
  '‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö': { min: 50, max: 500 },
  '‡πÑ‡∏°‡πâ‡∏•‡πâ‡∏≠‡∏°': { min: 200, max: 2000 },
  '‡πÑ‡∏°‡πâ‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô': { min: 20, max: 150 },
  '‡πÑ‡∏°‡πâ‡∏î‡∏≠‡∏Å': { min: 80, max: 800 },
  '‡πÑ‡∏°‡πâ‡πÉ‡∏ö': { min: 100, max: 1000 },
  '‡πÅ‡∏Ñ‡∏Ñ‡∏ï‡∏±‡∏™': { min: 30, max: 300 },
  '‡∏ö‡∏≠‡∏ô‡πÑ‡∏ã': { min: 500, max: 5000 },
  '‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡πÑ‡∏°‡πâ': { min: 150, max: 1500 },
  '‡πÑ‡∏°‡πâ‡πÑ‡∏ú‡πà': { min: 100, max: 800 }
};

// ‡πÑ‡∏ã‡∏ï‡πå‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ
const plantSizes = [
  '1-2 ‡∏ü‡∏∏‡∏ï', '2-3 ‡∏ü‡∏∏‡∏ï', '3-4 ‡∏ü‡∏∏‡∏ï', '4-5 ‡∏ü‡∏∏‡∏ï', '5-6 ‡∏ü‡∏∏‡∏ï',
  'S', 'M', 'L', 'XL', 'XXL',
  '‡πÄ‡∏•‡πá‡∏Å', '‡∏Å‡∏•‡∏≤‡∏á', '‡πÉ‡∏´‡∏ç‡πà', '‡πÉ‡∏´‡∏ç‡πà‡∏°‡∏≤‡∏Å'
];

function getRandomPrice(plantType) {
  const range = priceRanges[plantType] || { min: 50, max: 500 };
  return Math.floor(Math.random() * (range.max - range.min + 1)) + range.min;
}

function getRandomSize() {
  return plantSizes[Math.floor(Math.random() * plantSizes.length)];
}

async function addRealSuppliers() {
  console.log('‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏£‡∏¥‡∏á...');
  
  try {
    // ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    const plants = await db.getPlants();
    console.log(`‡∏û‡∏ö‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ ${plants.length} ‡∏ä‡∏ô‡∏¥‡∏î`);
    
    let totalSuppliersAdded = 0;
    
    // ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
    for (const supplier of realSuppliers) {
      console.log(`‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤: ${supplier.name}`);
      
      // ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏µ‡πà‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏Ç‡∏≤‡∏¢ (‡∏ï‡∏≤‡∏° specialties)
      const relevantPlants = plants.filter(plant => 
        supplier.specialties.includes(plant.plantType)
      );
      
      // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ 3-8 ‡∏ä‡∏ô‡∏¥‡∏î (‡∏™‡∏∏‡πà‡∏°)
      const numPlants = Math.floor(Math.random() * 6) + 3;
      const selectedPlants = relevantPlants
        .sort(() => 0.5 - Math.random())
        .slice(0, Math.min(numPlants, relevantPlants.length));
      
      for (const plant of selectedPlants) {
        const supplierData = {
          id: `supplier_${uuidv4()}`,
          name: supplier.name,
          price: getRandomPrice(plant.plantType),
          phone: supplier.phone,
          location: supplier.location,
          size: getRandomSize()
        };
        
        try {
          await db.addSupplier(plant.id, supplierData);
          totalSuppliersAdded++;
        } catch (error) {
          console.error(`‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ ${supplier.name} ‡πÉ‡∏´‡πâ‡∏Å‡∏±‡∏ö ${plant.name}:`, error.message);
        }
      }
      
      console.log(`‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤ ${supplier.name} ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à (${selectedPlants.length} ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ)`);
    }
    
    console.log(`\nüéâ ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤‡∏à‡∏£‡∏¥‡∏á‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!`);
    console.log(`üìä ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥:`);
    console.log(`   - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤: ${realSuppliers.length} ‡∏£‡πâ‡∏≤‡∏ô`);
    console.log(`   - ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤-‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ: ${totalSuppliersAdded} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`);
    
  } catch (error) {
    console.error('‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤:', error);
  } finally {
    process.exit();
  }
}

addRealSuppliers();
