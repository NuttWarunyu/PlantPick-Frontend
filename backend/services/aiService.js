// ü§ñ AI Service for Backend - Intelligent Features

class AIService {
  constructor() {
    this.apiKey = process.env.OPENAI_API_KEY || '';
  }

  // üîç ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏ß‡∏¢ AI
  async validateDataWithAI(data, type) {
    if (!this.apiKey) {
      // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ API key ‡πÉ‡∏´‡πâ return basic validation
      return {
        isValid: true,
        confidence: 0.5,
        suggestions: []
      };
    }

    try {
      const response = await fetch('https://api.openai.com/v1/chat/completions', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${this.apiKey}`
        },
        body: JSON.stringify({
          model: 'gpt-3.5-turbo',
          messages: [
            {
              role: 'system',
              content: '‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÅ‡∏•‡∏∞‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤'
            },
            {
              role: 'user',
              content: `‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•${type}‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ô‡∏µ‡πâ:\n${JSON.stringify(data, null, 2)}\n\n‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡∏∞‡πÉ‡∏´‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏±‡πà‡∏ô (0-1)`
            }
          ],
          temperature: 0.3
        })
      });

      const result = await response.json();
      // Parse AI response and extract validation results
      
      return {
        isValid: true, // Default
        confidence: 0.8,
        suggestions: []
      };
    } catch (error) {
      console.error('AI Validation Error:', error);
      return {
        isValid: true,
        confidence: 0.5,
        suggestions: []
      };
    }
  }

  // üí∞ ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏≤‡∏Ñ‡∏≤‡∏î‡πâ‡∏ß‡∏¢ AI
  async analyzePrice(plantName, price, category) {
    if (!this.apiKey) {
      return this.getMockPriceAnalysis();
    }

    try {
      const response = await fetch('https://api.openai.com/v1/chat/completions', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${this.apiKey}`
        },
        body: JSON.stringify({
          model: 'gpt-3.5-turbo',
          messages: [
            {
              role: 'system',
              content: '‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç‡∏î‡πâ‡∏≤‡∏ô‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢'
            },
            {
              role: 'user',
              content: `‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ "${plantName}" ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó "${category}" ‡∏£‡∏≤‡∏Ñ‡∏≤ ${price} ‡∏ö‡∏≤‡∏ó\n\n‡∏Ñ‡∏ß‡∏£‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏≠‡∏∞‡πÑ‡∏£? ‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?`
            }
          ],
          temperature: 0.3,
          max_tokens: 200
        })
      });

      const result = await response.json();
      
      return {
        isFairPrice: true,
        recommendation: '‡∏£‡∏≤‡∏Ñ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°',
        averagePrice: price,
        marketTrend: 'stable'
      };
    } catch (error) {
      console.error('AI Price Analysis Error:', error);
      return this.getMockPriceAnalysis();
    }
  }

  // üîÑ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (Smart Pricing)
  suggestOptimalPrice(plantName, category, currentPrice, historicalPrices) {
    const avgPrice = historicalPrices.length > 0 
      ? historicalPrices.reduce((a, b) => a + b, 0) / historicalPrices.length
      : currentPrice;

    const suggestions = {
      recommendedPrice: currentPrice,
      confidence: 0.7,
      reasoning: `‡∏£‡∏≤‡∏Ñ‡∏≤ ${currentPrice} ‡∏ö‡∏≤‡∏ó ‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ ${avgPrice.toFixed(2)} ‡∏ö‡∏≤‡∏ó`
    };

    if (currentPrice > avgPrice * 1.5) {
      suggestions.recommendedPrice = avgPrice * 1.1;
      suggestions.confidence = 0.9;
      suggestions.reasoning = '‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡∏•‡∏î‡∏•‡∏á';
    }

    if (currentPrice < avgPrice * 0.5) {
      suggestions.recommendedPrice = avgPrice * 0.9;
      suggestions.confidence = 0.9;
      suggestions.reasoning = '‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≥‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á';
    }

    return suggestions;
  }

  // üîç Detect Duplicates with AI
  detectDuplicatePlants(plantName, plantType) {
    // Simple duplicate detection based on name similarity
    return {
      isDuplicate: false,
      similarPlants: [],
      confidence: 0.5
    };
  }

  // üìä Generate Business Insights
  generateInsights(plants, suppliers, orders) {
    return {
      totalPlants: plants?.length || 0,
      totalSuppliers: suppliers?.length || 0,
      averagePrice: this.calculateAveragePrice(plants),
      mostPopularPlants: this.getMostPopularPlants(plants),
      recommendations: this.generateRecommendations(plants, suppliers)
    };
  }

  // Helper methods
  calculateAveragePrice(plants) {
    if (!plants || plants.length === 0) return 0;
    
    const prices = plants
      .flatMap(p => p.suppliers || [])
      .map(s => s.price)
      .filter(p => p > 0);
    
    return prices.length > 0 
      ? prices.reduce((a, b) => a + b, 0) / prices.length 
      : 0;
  }

  getMostPopularPlants(plants) {
    // Return top 5 most popular plants
    return (plants || []).slice(0, 5);
  }

  generateRecommendations(plants, suppliers) {
    const recommendations = [];

    if (plants && plants.length < 10) {
      recommendations.push('‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô');
    }

    if (suppliers && suppliers.length < 3) {
      recommendations.push('‡∏Ñ‡∏ß‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏à‡∏≥‡∏´‡∏ô‡πà‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏£‡∏≤‡∏Ñ‡∏≤');
    }

    return recommendations;
  }

  getMockPriceAnalysis() {
    return {
      isFairPrice: true,
      recommendation: '‡∏£‡∏≤‡∏Ñ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°',
      averagePrice: 500,
      marketTrend: 'stable'
    };
  }

  // üì∏ ‡∏™‡πÅ‡∏Å‡∏ô‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏î‡πâ‡∏ß‡∏¢ ChatGPT Vision (GPT-4o)
  async scanBill(base64Image) {
    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ API Key ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    if (!this.apiKey) {
      throw new Error('OpenAI API key not found. Please set OPENAI_API_KEY in Railway variables.');
    }

    try {
      const response = await fetch('https://api.openai.com/v1/chat/completions', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${this.apiKey}`
        },
        body: JSON.stringify({
          model: 'gpt-4o',
          messages: [
            {
              role: 'user',
              content: [
                {
                  type: 'text',
                  text: `‡∏≠‡πà‡∏≤‡∏ô‡πÉ‡∏ö‡πÄ‡∏™‡∏£‡πá‡∏à‡∏£‡πâ‡∏≤‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡∏∞‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô JSON format ‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ô‡∏µ‡πâ:
                  {
                    "supplierName": "‡∏ä‡∏∑‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤",
                    "supplierPhone": "‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå",
                    "supplierLocation": "‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà",
                    "billDate": "‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà (YYYY-MM-DD)",
                    "totalAmount": ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°,
                    "items": [
                      {
                        "plantName": "‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ",
                        "quantity": ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô,
                        "price": ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏ï‡πâ‡∏ô,
                        "total": ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ß‡∏°,
                        "size": "‡πÑ‡∏ã‡∏ï‡πå (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)",
                        "notes": "‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)"
                      }
                    ],
                    "confidence": 0.95
                  }
                  
                  ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏≠‡πà‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ ‡πÅ‡∏•‡∏∞‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô JSON ‡∏•‡πâ‡∏ß‡∏ô‡πÜ ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏™‡πà‡πÇ‡∏Ñ‡πâ‡∏î‡∏ö‡∏•‡πá‡∏≠‡∏Å (‡πÄ‡∏ä‡πà‡∏ô code fences) ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏≠‡∏∑‡πà‡∏ô‡πÜ`
                },
                {
                  type: 'image_url',
                  image_url: {
                    url: `data:image/jpeg;base64,${base64Image}`
                  }
                }
              ]
            }
          ],
          max_tokens: 2000,
          temperature: 0.1
        })
      });

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö HTTP status
      if (!response.ok) {
        const errorData = await response.json().catch(() => ({}));
        let errorMessage = `OpenAI API error: ${response.status}`;
        
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö error type
        if (response.status === 401 || response.status === 403) {
          errorMessage = 'OpenAI API key is invalid or unauthorized';
        } else if (response.status === 429) {
          errorMessage = 'OpenAI API rate limit exceeded';
        } else if (errorData.error?.message) {
          errorMessage = `OpenAI API error: ${errorData.error.message}`;
        }
        
        throw new Error(errorMessage);
      }

      const data = await response.json();
      const content = data.choices[0]?.message?.content;
      
      if (!content) {
        throw new Error('No content received from OpenAI');
      }

      // ‡πÅ‡∏õ‡∏•‡∏á JSON string ‡πÄ‡∏õ‡πá‡∏ô object ‡∏û‡∏£‡πâ‡∏≠‡∏° sanitize ‡∏Å‡∏£‡∏ì‡∏µ‡∏°‡∏µ ``` ‡∏´‡∏£‡∏∑‡∏≠ prefix ‡∏≠‡∏∑‡πà‡∏ô‡πÜ
      try {
        // ‡∏ï‡∏±‡∏î code fences ``` ‡πÅ‡∏•‡∏∞ ```json ‡∏≠‡∏≠‡∏Å
        let cleaned = content.replace(/```json|```/gi, '').trim();
        
        // ‡∏î‡∏∂‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô JSON ‡∏´‡∏•‡∏±‡∏Å (‡∏à‡∏≤‡∏Å { ... } ‡∏ö‡∏•‡πá‡∏≠‡∏Å‡πÅ‡∏£‡∏Å)
        const match = cleaned.match(/\{[\s\S]*\}/);
        if (match) {
          cleaned = match[0];
        }
        
        const result = JSON.parse(cleaned);
        return result;
      } catch (parseError) {
        throw new Error(`Failed to parse OpenAI response: ${parseError.message}`);
      }

    } catch (error) {
      console.error('‚ùå Error scanning bill with AI:', error);
      // ‚ö†Ô∏è ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ Mock Data - throw error ‡∏ï‡πà‡∏≠‡πÉ‡∏´‡πâ endpoint ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£
      throw error;
    }
  }

  // Analyze text with AI (for AI Agent)
  async analyzeText(prompt) {
    if (!this.apiKey) {
      throw new Error('OpenAI API key not found. Please set OPENAI_API_KEY in Railway variables.');
    }

    try {
      const response = await fetch('https://api.openai.com/v1/chat/completions', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${this.apiKey}`
        },
        body: JSON.stringify({
          model: 'gpt-4o', // ‡πÉ‡∏ä‡πâ GPT-4o ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô
          messages: [
            {
              role: 'system',
              content: '‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô AI Agent ‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏Å‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡∏à‡∏≤‡∏Å‡πÄ‡∏ß‡πá‡∏ö‡πÑ‡∏ã‡∏ï‡πå ‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô JSON format ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô'
            },
            {
              role: 'user',
              content: prompt
            }
          ],
          max_tokens: 2000,
          temperature: 0.1
        })
      });

      if (!response.ok) {
        const errorData = await response.json().catch(() => ({}));
        throw new Error(errorData.error?.message || `OpenAI API error: ${response.status}`);
      }

      const data = await response.json();
      let content = data.choices[0]?.message?.content;
      if (!content) {
        throw new Error('No content received from OpenAI');
      }

      // Sanitize JSON response (remove markdown code fences)
      try {
        let cleaned = content.replace(/```json|```/gi, '').trim();
        const match = cleaned.match(/\{[\s\S]*\}/);
        if (match) {
          cleaned = match[0];
        }
        const result = JSON.parse(cleaned);
        return result;
      } catch (parseError) {
        console.error('JSON Parse Error:', parseError);
        console.error('Raw content:', content);
        throw new Error(`Failed to parse OpenAI response: ${parseError.message}`);
      }
    } catch (error) {
      console.error('AI Analyze Text Error:', error);
      throw error;
    }
  }

  // üåø ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏ß‡∏ô/‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏∞‡∏ö‡∏∏‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ (GPT-4o Vision)
  async analyzeGardenImage(base64Image) {
    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ API Key ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
    if (!this.apiKey) {
      throw new Error('OpenAI API key not found. Please set OPENAI_API_KEY in Railway variables.');
    }

    const startTime = Date.now();
    console.log('üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏ß‡∏ô...');
    console.log(`üì∏ ‡∏Ç‡∏ô‡∏≤‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û: ${Math.round(base64Image.length / 1024)} KB`);

    try {
      // ‡∏™‡∏£‡πâ‡∏≤‡∏á AbortController ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö timeout
      const controller = new AbortController();
      const timeoutId = setTimeout(() => controller.abort(), 60000); // 60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ timeout

      console.log('üì° ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á request ‡πÑ‡∏õ‡∏¢‡∏±‡∏á OpenAI API...');
      const apiStartTime = Date.now();
      
      const response = await fetch('https://api.openai.com/v1/chat/completions', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${this.apiKey}`
        },
        signal: controller.signal, // ‡πÄ‡∏û‡∏¥‡πà‡∏° signal ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö timeout
        body: JSON.stringify({
          model: 'gpt-4o',
          messages: [
            {
              role: 'user',
              content: [
                {
                  type: 'text',
                  text: `‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏ß‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏∏‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô ‡πÇ‡∏î‡∏¢‡πÄ‡∏ô‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å

üö® **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡πÄ‡∏ä‡πà‡∏ô ‡∏õ‡πâ‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠, ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°, label) ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å**

üéØ **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å: ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏∏‡∏Å‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡πÉ‡∏ô‡∏†‡∏≤‡∏û (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà‡∏ï‡πâ‡∏ô‡πÄ‡∏î‡πà‡∏ô) ‡∏£‡∏ß‡∏°‡∏ñ‡∏∂‡∏á‡∏ï‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å ‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡∏ç‡πà ‡πÑ‡∏°‡πâ‡∏û‡∏∏‡πà‡∏° ‡πÑ‡∏°‡πâ‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô ‡∏ó‡∏∏‡∏Å‡∏ï‡πâ‡∏ô**

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå (‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö):**

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 1: ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡πà‡∏ô ‚Üí ‡πÄ‡∏ï‡∏¥‡∏°‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®)**

1Ô∏è‚É£ **‡πÑ‡∏°‡πâ‡∏¢‡∏∑‡∏ô‡∏ï‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏Å (Focal Tree)** - ‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏ó‡∏µ‡πà‡πÄ‡∏î‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡πÄ‡∏õ‡πá‡∏ô "‡∏û‡∏£‡∏∞‡πÄ‡∏≠‡∏Å‡∏™‡∏ß‡∏ô"
   - ‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏≤‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏î‡πà‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏†‡∏≤‡∏û (‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏•‡πá‡∏Å ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô‡∏™‡∏ß‡∏ô‡πÑ‡∏°‡πà‡∏Ç‡∏∂‡πâ‡∏ô)
   - ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ: ‡∏°‡∏∞‡∏Å‡∏≠‡∏Å‡∏ù‡∏£‡∏±‡πà‡∏á (Olive Tree), ‡∏¢‡∏π‡∏Ñ‡∏≤‡πÉ‡∏ö‡πÄ‡∏á‡∏¥‡∏ô (Silver Dollar Eucalyptus), ‡πÑ‡∏ó‡∏£‡πÉ‡∏ö‡∏™‡∏±‡∏Å, ‡πÑ‡∏ó‡∏£‡πÉ‡∏ö‡πÉ‡∏´‡∏ç‡πà, ‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á, ‡∏Å‡∏•‡πâ‡∏ß‡∏¢, ‡∏ï‡∏∞‡πÇ‡∏Å, ‡∏õ‡∏£‡∏∞‡∏î‡∏π‡πà, ‡∏¢‡∏π‡∏à‡∏µ‡πÄ‡∏ô‡∏µ‡∏¢
   - ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞: ‡∏ï‡πâ‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏û‡∏∏‡πà‡∏°‡πÇ‡∏õ‡∏£‡πà‡∏á, ‡πÉ‡∏ö‡∏™‡∏µ‡πÄ‡∏á‡∏¥‡∏ô, ‡πÉ‡∏ö‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏Ç‡πâ‡∏°, ‡∏ó‡∏£‡∏á‡∏û‡∏∏‡πà‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á

2Ô∏è‚É£ **‡πÑ‡∏°‡πâ‡∏ó‡∏£‡∏á‡πÄ‡∏™‡∏≤ (‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡πâ‡∏ô‡∏ï‡∏±‡πâ‡∏á)** - ‡∏ï‡πâ‡∏ô‡∏™‡∏π‡∏á‡∏ó‡∏£‡∏á‡πÅ‡∏´‡∏•‡∏°
   - ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ: **‡∏™‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£** (‡∏ô‡∏¥‡∏¢‡∏°‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î), ‡∏™‡∏ô‡∏™‡∏Å‡πá‡∏≠‡∏ï (Scotch Pine), ‡∏à‡∏π‡∏ô‡∏¥‡πÄ‡∏õ‡∏≠‡∏£‡πå (Juniper), ‡∏õ‡∏≤‡∏•‡πå‡∏°, ‡∏´‡∏°‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏´‡∏°‡∏≤‡∏Å‡πÄ‡∏°‡∏µ‡∏¢
   - ‚ö†Ô∏è **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏£‡∏á‡πÅ‡∏´‡∏•‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏Ç‡πâ‡∏° ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ "‡∏™‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£" ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ "‡∏™‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå" ‡∏´‡∏£‡∏∑‡∏≠ "Columnar Pine" ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢)**
   - ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞: ‡∏ï‡πâ‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏Ç‡πâ‡∏° ‡∏ó‡∏£‡∏á‡πÅ‡∏´‡∏•‡∏°, ‡∏™‡∏π‡∏á 2-3 ‡πÄ‡∏°‡∏ï‡∏£

3Ô∏è‚É£ **‡πÑ‡∏°‡πâ‡∏û‡∏∏‡πà‡∏°‡∏ó‡∏£‡∏á‡∏Å‡∏•‡∏° (‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞)** - ‡∏û‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏°
   - ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ: ‡∏ä‡∏≤‡∏Æ‡∏Å‡πÄ‡∏Å‡∏µ‡πâ‡∏¢‡∏ô‡∏ï‡∏±‡∏î‡∏ö‡∏≠‡∏•, ‡∏ö‡∏≠‡∏Å‡∏ã‡πå‡∏ß‡∏π‡∏î (Boxwood/Buxus), ‡πÑ‡∏ó‡∏£‡πÉ‡∏ö‡∏Å‡∏•‡∏°, ‡πÇ‡∏Å‡∏™‡∏ô, ‡πÄ‡∏Ç‡πá‡∏°, ‡∏ä‡∏≤‡∏Æ‡∏Å‡πÄ‡∏Å‡∏µ‡πâ‡∏¢‡∏ô
   - ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞: ‡∏û‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏Ç‡πâ‡∏°, ‡∏Ç‡∏ô‡∏≤‡∏î √ò 40-80 ‡∏ã‡∏°.

4Ô∏è‚É£ **‡πÑ‡∏°‡πâ‡πÉ‡∏ö‡πÄ‡∏á‡∏¥‡∏ô / ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏õ‡∏•‡∏Å (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏°‡πÄ‡∏î‡∏¥‡∏£‡πå‡∏ô)** - ‡πÉ‡∏ö‡∏™‡∏µ‡πÄ‡∏á‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏õ‡∏•‡∏Å
   - ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ: ‡∏¢‡∏π‡∏Ñ‡∏≤‡πÉ‡∏ö‡πÄ‡∏á‡∏¥‡∏ô (Silver Dollar Eucalyptus), ‡∏ö‡∏•‡∏π‡∏¢‡∏±‡∏Ñ‡∏Ñ‡∏≤ (Blue Yucca), ‡∏î‡∏≤‡∏ã‡∏¥‡∏•‡∏¥‡πÄ‡∏£‡∏µ‡∏¢‡∏ô (Dasylirion), ‡∏≠‡∏≤‡∏Å‡∏≤‡πÄ‡∏ß‡πà (Agave)
   - ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞: ‡∏û‡∏∏‡πà‡∏°‡πÅ‡∏ú‡πà ‡πÉ‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏±‡∏î, ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÅ‡∏õ‡∏•‡∏Å‡∏ï‡∏≤

5Ô∏è‚É£ **‡πÑ‡∏°‡πâ‡∏û‡∏∏‡πà‡∏°‡πÄ‡∏ï‡∏µ‡πâ‡∏¢ + ‡πÑ‡∏°‡πâ‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô** - ‡∏ï‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡πÜ
   - ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ: ‡∏´‡∏ç‡πâ‡∏≤‡∏ô‡πâ‡∏≥‡∏û‡∏∏‡πÅ‡∏Ñ‡∏£‡∏∞ (Dwarf Fountain Grass), ‡∏•‡∏¥‡∏£‡∏¥‡πÇ‡∏≠‡πÄ‡∏õ (Liriope), ‡∏Å‡∏ß‡∏±‡∏Å‡∏°‡∏£‡∏Å‡∏ï, ‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏ô, ‡∏û‡∏•‡∏π‡∏î‡πà‡∏≤‡∏á, ‡πÄ‡∏î‡∏´‡∏•‡∏µ, ‡∏ß‡πà‡∏≤‡∏ô‡∏´‡∏≤‡∏á‡∏à‡∏£‡∏∞‡πÄ‡∏Ç‡πâ, ‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏µ‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡πÉ‡∏ô
   - ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞: ‡∏ï‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡πÄ‡∏ï‡∏µ‡πâ‡∏¢, ‡πÑ‡∏°‡πâ‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô, ‡πÑ‡∏°‡πâ‡πÉ‡∏ö‡πÄ‡∏•‡πá‡∏Å‡πÅ‡∏ã‡∏°‡πÇ‡∏Ñ‡∏ô

6Ô∏è‚É£ **‡πÑ‡∏°‡πâ‡∏î‡∏≠‡∏Å‡πÅ‡∏ã‡∏°‡∏™‡∏µ** - ‡∏ï‡πâ‡∏ô‡∏î‡∏≠‡∏Å
   - ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ: ‡∏•‡∏≤‡πÄ‡∏ß‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå (Lavender), ‡∏ö‡∏•‡∏π‡∏û‡∏•‡∏±‡∏°‡∏ö‡∏≤‡πÇ‡∏Å (Blue Plumbago), ‡∏î‡∏≤‡∏ß‡πÄ‡∏£‡∏∑‡∏≠‡∏á, ‡∏ö‡∏≤‡∏ô‡∏ä‡∏∑‡πà‡∏ô, ‡∏û‡∏∏‡∏ó‡∏ò‡∏£‡∏±‡∏Å‡∏©‡∏≤, ‡πÄ‡∏ö‡∏ç‡∏à‡∏°‡∏≤‡∏®, ‡∏´‡∏ô‡πâ‡∏≤‡∏ß‡∏±‡∏ß, ‡∏î‡∏≤‡∏ß‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢
   - ‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞: ‡∏î‡∏≠‡∏Å‡∏™‡∏µ‡∏°‡πà‡∏ß‡∏á‡∏≠‡πà‡∏≠‡∏ô, ‡∏î‡∏≠‡∏Å‡∏™‡∏µ‡∏ü‡πâ‡∏≤, ‡∏î‡∏≠‡∏Å‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á, ‡∏î‡∏≠‡∏Å‡∏™‡∏µ‡πÅ‡∏î‡∏á

‚ö†Ô∏è **‡∏Å‡∏é‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö):**
- **‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û (‡∏õ‡πâ‡∏≤‡∏¢, label, ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°) ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å**
- **‡∏ï‡πâ‡∏≠‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏∏‡∏Å‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡πÉ‡∏ô‡∏†‡∏≤‡∏û** (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà 4-5 ‡∏ï‡πâ‡∏ô)
- **‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô** (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢)
- **‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ** ‡πÄ‡∏ä‡πà‡∏ô "‡∏û‡∏∏‡πà‡∏°‡πÑ‡∏°‡πâ", "‡∏´‡∏ç‡πâ‡∏≤‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö", "‡πÑ‡∏°‡πâ‡∏û‡∏∏‡πà‡∏°‡∏î‡∏≠‡∏Å‡∏™‡∏µ‡∏ü‡πâ‡∏≤", "‡∏ï‡πâ‡∏ô‡∏™‡∏π‡∏á ‡πÉ‡∏ö‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß"
- **‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢** (‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á)
- **‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡πâ‡∏ô ‡∏Ç‡∏ô‡∏≤‡∏î ‡πÅ‡∏•‡∏∞‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô** ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏∏‡∏Å‡∏ï‡πâ‡∏ô
- **‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡πÄ‡∏î‡πà‡∏ô ‚Üí ‡πÄ‡∏ï‡∏¥‡∏°‡∏ö‡∏£‡∏£‡∏¢‡∏≤‡∏Å‡∏≤‡∏®** (Focal Tree ‚Üí Columnar ‚Üí Round Shrubs ‚Üí Silver/Unique ‚Üí Low Shrubs ‚Üí Flowering)

üìã **‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏¢‡∏≠‡∏î‡∏ô‡∏¥‡∏¢‡∏°‡πÉ‡∏ô‡∏õ‡∏£‡∏∞‡πÄ‡∏ó‡∏®‡πÑ‡∏ó‡∏¢ (‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô reference - ‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏µ‡πà‡∏°‡∏µ suppliers ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•):**
- ‡πÑ‡∏°‡πâ‡∏¢‡∏∑‡∏ô‡∏ï‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏Å: ‡πÑ‡∏ó‡∏£‡πÉ‡∏ö‡∏™‡∏±‡∏Å, ‡πÑ‡∏ó‡∏£‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ, ‡∏¢‡∏π‡∏à‡∏µ‡πÄ‡∏ô‡∏µ‡∏¢, ‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á, ‡∏Å‡∏•‡πâ‡∏ß‡∏¢, ‡∏ï‡∏∞‡πÇ‡∏Å, ‡∏õ‡∏£‡∏∞‡∏î‡∏π‡πà, ‡∏à‡∏≤‡∏°‡∏à‡∏∏‡∏£‡∏µ, ‡∏°‡∏∞‡∏Ç‡∏≤‡∏°
- ‡πÑ‡∏°‡πâ‡∏ó‡∏£‡∏á‡πÄ‡∏™‡∏≤: **‡∏™‡∏ô‡∏°‡∏±‡∏á‡∏Å‡∏£** (‡∏ô‡∏¥‡∏¢‡∏°‡πÉ‡∏ô‡πÑ‡∏ó‡∏¢‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î - ‡πÉ‡∏ä‡πâ‡πÅ‡∏ó‡∏ô "‡∏™‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå" ‡∏´‡∏£‡∏∑‡∏≠ "Columnar Pine" ‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏à‡∏£‡∏¥‡∏á), ‡∏õ‡∏≤‡∏•‡πå‡∏°, ‡∏´‡∏°‡∏≤‡∏Å‡∏ú‡∏π‡πâ‡∏´‡∏°‡∏≤‡∏Å‡πÄ‡∏°‡∏µ‡∏¢, ‡πÑ‡∏ú‡πà‡∏™‡∏µ‡∏™‡∏∏‡∏Å, ‡πÑ‡∏ú‡πà‡∏î‡∏≥
- ‡πÑ‡∏°‡πâ‡∏û‡∏∏‡πà‡∏°‡∏ó‡∏£‡∏á‡∏Å‡∏•‡∏°: ‡∏ä‡∏≤‡∏Æ‡∏Å‡πÄ‡∏Å‡∏µ‡πâ‡∏¢‡∏ô‡∏ï‡∏±‡∏î‡∏ö‡∏≠‡∏•, ‡∏ä‡∏≤‡∏Æ‡∏Å‡πÄ‡∏Å‡∏µ‡πâ‡∏¢‡∏ô, ‡πÑ‡∏ó‡∏£‡πÉ‡∏ö‡∏Å‡∏•‡∏°, ‡πÇ‡∏Å‡∏™‡∏ô, ‡πÄ‡∏Ç‡πá‡∏°, ‡∏¢‡∏π‡∏à‡∏µ‡πÄ‡∏ô‡∏µ‡∏¢
- ‡πÑ‡∏°‡πâ‡∏û‡∏∏‡πà‡∏°‡πÄ‡∏ï‡∏µ‡πâ‡∏¢/‡∏Ñ‡∏•‡∏∏‡∏°‡∏î‡∏¥‡∏ô: ‡∏´‡∏ç‡πâ‡∏≤‡∏ô‡πâ‡∏≥‡∏û‡∏∏‡πÅ‡∏Ñ‡∏£‡∏∞, ‡∏Å‡∏ß‡∏±‡∏Å‡∏°‡∏£‡∏Å‡∏ï, ‡πÄ‡∏ü‡∏¥‡∏£‡πå‡∏ô, ‡∏û‡∏•‡∏π‡∏î‡πà‡∏≤‡∏á, ‡πÄ‡∏î‡∏´‡∏•‡∏µ, ‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏µ‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡πÉ‡∏ô, ‡πÄ‡∏®‡∏£‡∏©‡∏ê‡∏µ‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏ô‡∏≠‡∏Å, ‡∏Ñ‡∏•‡πâ‡∏≤
- ‡πÑ‡∏°‡πâ‡∏î‡∏≠‡∏Å: ‡∏î‡∏≤‡∏ß‡πÄ‡∏£‡∏∑‡∏≠‡∏á, ‡∏ö‡∏≤‡∏ô‡∏ä‡∏∑‡πà‡∏ô, ‡∏û‡∏∏‡∏ó‡∏ò‡∏£‡∏±‡∏Å‡∏©‡∏≤, ‡πÄ‡∏ö‡∏ç‡∏à‡∏°‡∏≤‡∏®, ‡∏´‡∏ô‡πâ‡∏≤‡∏ß‡∏±‡∏ß, ‡∏Å‡∏∏‡∏´‡∏•‡∏≤‡∏ö, ‡∏ä‡∏ö‡∏≤, ‡πÄ‡∏Ç‡πá‡∏°
- ‡πÑ‡∏°‡πâ‡∏£‡∏±‡πâ‡∏ß: ‡∏ä‡∏≤‡∏Æ‡∏Å‡πÄ‡∏Å‡∏µ‡πâ‡∏¢‡∏ô, ‡πÑ‡∏ó‡∏£‡πÄ‡∏Å‡∏≤‡∏´‡∏•‡∏µ, ‡∏Å‡∏±‡∏ô‡πÄ‡∏Å‡∏£‡∏≤, ‡πÑ‡∏ú‡πà‡∏™‡∏µ‡∏™‡∏∏‡∏Å, ‡∏¢‡∏π‡∏à‡∏µ‡πÄ‡∏ô‡∏µ‡∏¢, ‡πÇ‡∏Å‡∏™‡∏ô

‚ö†Ô∏è **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à ‡πÉ‡∏´‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏à‡∏≤‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô (‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏µ‡πà‡∏°‡∏µ suppliers ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏Ñ‡∏≤‡πÉ‡∏ô‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)**

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ó‡∏µ‡πà 2: ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏≠‡∏∑‡πà‡∏ô‡πÜ**

2. **‡∏™‡∏ô‡∏≤‡∏°‡∏´‡∏ç‡πâ‡∏≤**: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏ô‡∏≤‡∏°‡∏´‡∏ç‡πâ‡∏≤ ‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏∏‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡∏ç‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì
   - ‡πÄ‡∏ä‡πà‡∏ô "‡∏´‡∏ç‡πâ‡∏≤‡∏ô‡∏ß‡∏•‡∏ô‡πâ‡∏≠‡∏¢", "‡∏´‡∏ç‡πâ‡∏≤‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏¥‡∏ß‡∏î‡πâ‡∏≤", "‡∏´‡∏ç‡πâ‡∏≤‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô"
   - ‡∏Ç‡∏ô‡∏≤‡∏î: ‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏°‡∏ï‡∏£ (‡πÄ‡∏ä‡πà‡∏ô 20 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏°‡∏ï‡∏£, 50 ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏°‡∏ï‡∏£)

3. **‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô/‡∏û‡∏∑‡πâ‡∏ô‡∏ú‡∏¥‡∏ß**: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏∑‡πâ‡∏ô‡∏ú‡∏¥‡∏ß‡πÉ‡∏ô‡∏™‡∏ß‡∏ô
   - ‡πÄ‡∏ä‡πà‡∏ô "‡∏´‡∏¥‡∏ô‡∏Å‡∏≤‡∏ö", "‡∏´‡∏¥‡∏ô‡∏•‡πâ‡∏≤‡∏á", "‡∏≠‡∏¥‡∏ê‡∏°‡∏≠‡∏ç", "‡∏Å‡∏£‡∏∞‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á", "‡∏Ñ‡∏≠‡∏ô‡∏Å‡∏£‡∏µ‡∏ï"
   - ‡∏Ç‡∏ô‡∏≤‡∏î: ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì

4. **‡∏´‡∏¥‡∏ô‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á**: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏´‡∏¥‡∏ô‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á‡πÉ‡∏ô‡∏™‡∏ß‡∏ô (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å - ‡∏ï‡πâ‡∏≠‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå)
   - ‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏¥‡∏ô‡∏Å‡πâ‡∏≠‡∏ô‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß (Limestone/Marble Rock), ‡∏´‡∏¥‡∏ô‡∏•‡πâ‡∏≤‡∏á, ‡∏´‡∏¥‡∏ô‡πÅ‡∏°‡πà‡∏ô‡πâ‡∏≥, ‡∏´‡∏¥‡∏ô‡∏†‡∏π‡πÄ‡∏Ç‡∏≤
   - ‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Å‡πâ‡∏≠‡∏ô, ‡∏Ç‡∏ô‡∏≤‡∏î, ‡πÅ‡∏•‡∏∞‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á

5. **‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏≠‡∏∑‡πà‡∏ô‡πÜ**: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÄ‡∏ä‡πà‡∏ô ‡∏£‡∏±‡πâ‡∏ß, ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏á, ‡∏ô‡πâ‡∏≥‡∏û‡∏∏, ‡∏Å‡∏£‡∏∞‡∏ñ‡∏≤‡∏á, ‡∏Ø‡∏•‡∏Ø

‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô JSON format ‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ô‡∏µ‡πâ:
{
  "plants": [
    {
      "name": "‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á (‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ - ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô ‡∏°‡∏∞‡∏Å‡∏≠‡∏Å‡∏ù‡∏£‡∏±‡πà‡∏á, ‡∏¢‡∏π‡∏Ñ‡∏≤‡πÉ‡∏ö‡πÄ‡∏á‡∏¥‡∏ô, ‡∏™‡∏ô‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå, ‡∏ä‡∏≤‡∏Æ‡∏Å‡πÄ‡∏Å‡∏µ‡πâ‡∏¢‡∏ô‡∏ï‡∏±‡∏î‡∏ö‡∏≠‡∏•, ‡∏ö‡∏≠‡∏Å‡∏ã‡πå‡∏ß‡∏π‡∏î, ‡∏ö‡∏•‡∏π‡∏¢‡∏±‡∏Ñ‡∏Ñ‡∏≤, ‡∏´‡∏ç‡πâ‡∏≤‡∏ô‡πâ‡∏≥‡∏û‡∏∏‡πÅ‡∏Ñ‡∏£‡∏∞, ‡∏•‡∏≤‡πÄ‡∏ß‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå)",
      "category": "‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ (focal_tree, columnar, round_shrub, silver_unique, low_shrub_groundcover, flowering) - ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ",
      "quantity": ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡πâ‡∏ô (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç ‡πÄ‡∏ä‡πà‡∏ô 1, 2, 5, 10, 15),
      "size": "‡∏Ç‡∏ô‡∏≤‡∏î (‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏π‡∏á 2.5-3 ‡πÄ‡∏°‡∏ï‡∏£, √ò 40-60 ‡∏ã‡∏°., ‡∏Å‡∏ß‡πâ‡∏≤‡∏á 80-100 ‡∏ã‡∏°., ‡∏™‡∏π‡∏á 0.5-1 ‡πÄ‡∏°‡∏ï‡∏£)",
      "location": "‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏ô‡∏†‡∏≤‡∏û (‡πÄ‡∏ä‡πà‡∏ô ‡∏ã‡πâ‡∏≤‡∏¢‡∏ö‡∏ô, ‡∏Å‡∏•‡∏≤‡∏á, ‡∏Ç‡∏ß‡∏≤‡∏•‡πà‡∏≤‡∏á, ‡∏ã‡πâ‡∏≤‡∏¢‡∏Å‡∏•‡∏≤‡∏á)",
      "position": {
        "x": ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô (0-100, 0=‡∏ã‡πâ‡∏≤‡∏¢‡∏™‡∏∏‡∏î, 100=‡∏Ç‡∏ß‡∏≤‡∏™‡∏∏‡∏î),
        "y": ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á (0-100, 0=‡∏ö‡∏ô‡∏™‡∏∏‡∏î, 100=‡∏•‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î)
      },
      "description": "‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ (‡πÄ‡∏ä‡πà‡∏ô ‡∏ï‡πâ‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏û‡∏∏‡πà‡∏°‡πÇ‡∏õ‡∏£‡πà‡∏á ‡πÉ‡∏ö‡∏™‡∏µ‡πÄ‡∏á‡∏¥‡∏ô, ‡∏û‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏°‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏Ç‡πâ‡∏°, ‡∏û‡∏∏‡πà‡∏°‡πÅ‡∏ú‡πà ‡πÉ‡∏ö‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏±‡∏î, ‡∏î‡∏≠‡∏Å‡∏°‡πà‡∏ß‡∏á‡∏≠‡πà‡∏≠‡∏ô)",
      "notes": "‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ ‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô Olive Tree ‡∏´‡∏£‡∏∑‡∏≠ Silver Dollar Eucalyptus)"
    }
  ],
  "pathways": [
    {
      "material": "‡∏ß‡∏±‡∏™‡∏î‡∏∏ (‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏¥‡∏ô‡∏Å‡∏≤‡∏ö, ‡∏´‡∏¥‡∏ô‡∏•‡πâ‡∏≤‡∏á, ‡∏≠‡∏¥‡∏ê‡∏°‡∏≠‡∏ç)",
      "length": "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì (‡πÄ‡∏°‡∏ï‡∏£) ‡∏´‡∏£‡∏∑‡∏≠ null",
      "area": "‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì (‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏°‡∏ï‡∏£) ‡∏´‡∏£‡∏∑‡∏≠ null",
      "location": "‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏ô‡∏†‡∏≤‡∏û",
      "position": {
        "x": ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô (0-100),
        "y": ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á (0-100)
      }
    }
  ],
  "otherElements": [
    {
      "type": "‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó (‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏¥‡∏ô‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á, ‡∏£‡∏±‡πâ‡∏ß, ‡∏£‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏á, ‡∏ô‡πâ‡∏≥‡∏û‡∏∏, ‡∏Å‡∏£‡∏∞‡∏ñ‡∏≤‡∏á)",
      "description": "‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î (‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏¥‡∏ô‡∏Å‡πâ‡∏≠‡∏ô‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß Limestone/Marble Rock, ‡∏´‡∏¥‡∏ô‡∏•‡πâ‡∏≤‡∏á, ‡∏´‡∏¥‡∏ô‡πÅ‡∏°‡πà‡∏ô‡πâ‡∏≥)",
      "quantity": "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ ‡πÄ‡∏ä‡πà‡∏ô 4-6 ‡∏Å‡πâ‡∏≠‡∏ô)",
      "size": "‡∏Ç‡∏ô‡∏≤‡∏î (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ ‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡πâ‡∏≠‡∏ô‡∏•‡∏∞ 30-50 ‡∏ã‡∏°.)",
      "location": "‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏ô‡∏†‡∏≤‡∏û",
      "position": {
        "x": ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô (0-100),
        "y": ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á (0-100)
      }
    }
  ],
  "lawn": {
    "type": "‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏´‡∏ç‡πâ‡∏≤ (‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡∏ç‡πâ‡∏≤‡∏ô‡∏ß‡∏•‡∏ô‡πâ‡∏≠‡∏¢, ‡∏´‡∏ç‡πâ‡∏≤‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏°‡∏¥‡∏ß‡∏î‡πâ‡∏≤) ‡∏´‡∏£‡∏∑‡∏≠ null ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ",
    "area": "‡∏Ç‡∏ô‡∏≤‡∏î‡πÇ‡∏î‡∏¢‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì (‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÄ‡∏°‡∏ï‡∏£) ‡∏´‡∏£‡∏∑‡∏≠ null",
    "position": {
      "x": ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô (0-100) ‡∏´‡∏£‡∏∑‡∏≠ null,
      "y": ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á (0-100) ‡∏´‡∏£‡∏∑‡∏≠ null
    }
  },
  "totalPlants": ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡πâ‡∏ô‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç),
  "gardenType": "‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏™‡∏ß‡∏ô (‡πÄ‡∏ä‡πà‡∏ô ‡∏™‡∏ß‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡πâ‡∏≤‡∏ô, ‡∏™‡∏ß‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ö‡πâ‡∏≤‡∏ô)",
  "confidence": 0.95
}

‚ö†Ô∏è **‡∏Å‡∏é‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç (‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö):**
- ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏∏‡∏Å‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà 4-5 ‡∏ï‡πâ‡∏ô) ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 6-10 ‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÑ‡∏õ
- field "name" ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô (‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)
- field "category" ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà (focal_tree, columnar, round_shrub, silver_unique, low_shrub_groundcover, flowering)
- ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏ï‡∏≤‡∏°‡∏•‡∏≥‡∏î‡∏±‡∏ö: Focal Tree ‚Üí Columnar ‚Üí Round Shrubs ‚Üí Silver/Unique ‚Üí Low Shrubs ‚Üí Flowering
- ‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡πâ‡∏ô, ‡∏Ç‡∏ô‡∏≤‡∏î, ‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á, ‡πÅ‡∏•‡∏∞‡∏•‡∏±‡∏Å‡∏©‡∏ì‡∏∞‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô
- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏´‡∏¥‡∏ô‡∏ï‡∏Å‡πÅ‡∏ï‡πà‡∏á ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡πÉ‡∏ô otherElements ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÅ‡∏•‡∏∞‡∏Ç‡∏ô‡∏≤‡∏î
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÅ‡∏ô‡πà‡πÉ‡∏à ‡πÉ‡∏´‡πâ‡πÄ‡∏î‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡πÉ‡∏Å‡∏•‡πâ‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (‡∏ú‡∏¥‡∏î‡∏Å‡πá‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏£ - ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏≤)

üö® **‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å: ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô JSON ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏´‡πâ‡∏≤‡∏°‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢**
- ‡∏´‡πâ‡∏≤‡∏°‡∏ï‡∏≠‡∏ö‡∏ß‡πà‡∏≤ "I'm sorry" ‡∏´‡∏£‡∏∑‡∏≠ "I cannot" ‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏≠‡∏∑‡πà‡∏ô‡πÜ
- ‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏™‡πà‡πÇ‡∏Ñ‡πâ‡∏î‡∏ö‡∏•‡πá‡∏≠‡∏Å (‡πÄ‡∏ä‡πà‡∏ô code fences) ‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏≠‡∏∑‡πà‡∏ô‡πÜ
- ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô JSON object ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ { ‡πÅ‡∏•‡∏∞‡∏à‡∏ö‡∏î‡πâ‡∏ß‡∏¢ }
- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡πÉ‡∏ô‡∏†‡∏≤‡∏û ‡πÉ‡∏´‡πâ‡∏ï‡∏≠‡∏ö JSON ‡∏ó‡∏µ‡πà‡∏°‡∏µ plants: [] ‡πÅ‡∏ó‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°`
                },
                {
                  type: 'image_url',
                  image_url: {
                    url: `data:image/jpeg;base64,${base64Image}`
                  }
                }
              ]
            }
          ],
          max_tokens: 1200, // ‡∏•‡∏î‡∏à‡∏≤‡∏Å 1500 ‡πÄ‡∏õ‡πá‡∏ô 1200 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö
          temperature: 0.1,
          response_format: { type: "json_object" } // ‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡πÉ‡∏´‡πâ‡∏ï‡∏≠‡∏ö‡πÄ‡∏õ‡πá‡∏ô JSON ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô
        })
      }).catch((fetchError) => {
        // Clear timeout ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏¥‡∏î error
        clearTimeout(timeoutId);
        
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô timeout error ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
        if (fetchError.name === 'AbortError' || fetchError.message.includes('aborted')) {
          throw new Error('Request timeout: ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (‡πÄ‡∏Å‡∏¥‡∏ô 60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ). ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á');
        }
        throw fetchError;
      });

      // Clear timeout ‡πÄ‡∏°‡∏∑‡πà‡∏≠ response ‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß
      clearTimeout(timeoutId);
      
      const apiEndTime = Date.now();
      const apiDuration = ((apiEndTime - apiStartTime) / 1000).toFixed(2);
      console.log(`üì° ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö response ‡∏à‡∏≤‡∏Å OpenAI API (‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ ${apiDuration} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)`);

      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö HTTP status
      if (!response.ok) {
        const errorData = await response.json().catch(() => ({}));
        let errorMessage = `OpenAI API error: ${response.status}`;
        
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö error type
        if (response.status === 401 || response.status === 403) {
          errorMessage = 'OpenAI API key is invalid or unauthorized';
        } else if (response.status === 429) {
          errorMessage = 'OpenAI API rate limit exceeded';
        } else if (errorData.error?.message) {
          errorMessage = `OpenAI API error: ${errorData.error.message}`;
        }
        
        throw new Error(errorMessage);
      }

      const data = await response.json();
      const content = data.choices[0]?.message?.content;
      
      if (!content) {
        throw new Error('No content received from OpenAI');
      }

      console.log(`üìù ‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö content ‡∏à‡∏≤‡∏Å OpenAI (‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß: ${content.length} ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)`);
      
      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ content ‡πÄ‡∏õ‡πá‡∏ô JSON ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
      const trimmedContent = content.trim();
      if (!trimmedContent.startsWith('{') && !trimmedContent.startsWith('[')) {
        // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà JSON ‡πÉ‡∏´‡πâ‡πÅ‡∏™‡∏î‡∏á error message ‡∏ó‡∏µ‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
        console.error('‚ùå OpenAI ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà JSON:', trimmedContent.substring(0, 200));
        throw new Error(`OpenAI API ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà JSON format. Response: ${trimmedContent.substring(0, 100)}...`);
      }

      // ‡πÅ‡∏õ‡∏•‡∏á JSON string ‡πÄ‡∏õ‡πá‡∏ô object ‡∏û‡∏£‡πâ‡∏≠‡∏° sanitize
      try {
        // ‡∏ï‡∏±‡∏î code fences ``` ‡πÅ‡∏•‡∏∞ ```json ‡∏≠‡∏≠‡∏Å
        let cleaned = content.replace(/```json|```/gi, '').trim();
        
        // ‡∏î‡∏∂‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô JSON ‡∏´‡∏•‡∏±‡∏Å (‡∏à‡∏≤‡∏Å { ... } ‡∏ö‡∏•‡πá‡∏≠‡∏Å‡πÅ‡∏£‡∏Å)
        const match = cleaned.match(/\{[\s\S]*\}/);
        if (match) {
          cleaned = match[0];
        } else {
          // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ JSON object ‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏á parse ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
          cleaned = cleaned;
        }
        
        // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô JSON ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
        if (!cleaned.startsWith('{') && !cleaned.startsWith('[')) {
          console.error('‚ùå ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏≤ JSON ‡πÉ‡∏ô response:', cleaned.substring(0, 200));
          throw new Error(`‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏´‡∏≤ JSON ‡πÉ‡∏ô response. Content: ${cleaned.substring(0, 100)}...`);
        }
        
        const result = JSON.parse(cleaned);
        
        const endTime = Date.now();
        const duration = ((endTime - startTime) / 1000).toFixed(2);
        console.log(`‚úÖ ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏™‡∏ß‡∏ô‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô (‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ ${duration} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)`);
        console.log(`üìä ‡∏û‡∏ö‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ ${result.plants?.length || 0} ‡∏ä‡∏ô‡∏¥‡∏î`);
        
        return result;
      } catch (parseError) {
        console.error('‚ùå JSON Parse Error:', parseError.message);
        console.error('‚ùå Content ‡∏ó‡∏µ‡πà parse ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ:', content.substring(0, 500));
        throw new Error(`Failed to parse OpenAI response as JSON: ${parseError.message}. Response preview: ${content.substring(0, 200)}...`);
      }

    } catch (error) {
      const endTime = Date.now();
      const duration = ((endTime - startTime) / 1000).toFixed(2);
      console.error(`‚ùå Error analyzing garden image with AI (‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ ${duration} ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ):`, error);
      
      // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô request abort error ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
      if (error.message && (error.message.includes('aborted') || error.message.includes('timeout'))) {
        throw new Error('Request timeout: ‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ. ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á');
      }
      
      throw error;
    }
  }

  // Mock data ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Bill Scan
  getMockBillScanResult() {
    return {
      supplierName: '‡∏™‡∏ß‡∏ô‡πÑ‡∏°‡πâ‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö ‡∏ì‡∏±‡∏ê‡∏û‡∏•',
      supplierPhone: '081-234-5678',
      supplierLocation: '‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°',
      billDate: new Date().toISOString().split('T')[0],
      totalAmount: 15750,
      confidence: 0.92,
      items: [
        {
          plantName: '‡∏°‡∏≠‡∏ô‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πà‡∏≤ ‡πÄ‡∏î‡∏•‡∏¥‡∏ã‡∏¥‡πÇ‡∏≠‡∏ã‡πà‡∏≤',
          quantity: 2,
          price: 450,
          total: 900,
          size: '1-2 ‡∏ü‡∏∏‡∏ï',
          notes: '‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡∏ç‡πà'
        },
        {
          plantName: '‡∏¢‡∏≤‡∏á‡∏≠‡∏¥‡∏ô‡πÄ‡∏î‡∏µ‡∏¢',
          quantity: 3,
          price: 350,
          total: 1050,
          size: '2-3 ‡∏ü‡∏∏‡∏ï'
        },
        {
          plantName: '‡∏ü‡∏¥‡πÇ‡∏•‡πÄ‡∏î‡∏ô‡∏î‡∏£‡∏≠‡∏ô ‡πÄ‡∏Æ‡πÄ‡∏î‡∏£‡∏ã‡∏¥‡∏ü‡∏≠‡∏•‡∏¥‡∏≠‡∏±‡∏°',
          quantity: 1,
          price: 280,
          total: 280,
          size: 'S'
        },
        {
          plantName: '‡πÅ‡∏Ñ‡∏Ñ‡∏ï‡∏±‡∏™ ‡∏´‡∏•‡∏≤‡∏Å‡∏ä‡∏ô‡∏¥‡∏î',
          quantity: 10,
          price: 120,
          total: 1200,
          notes: '‡∏ä‡∏∏‡∏î 10 ‡∏ï‡πâ‡∏ô'
        },
        {
          plantName: '‡πÑ‡∏°‡πâ‡∏•‡πâ‡∏≠‡∏° - ‡∏ï‡πâ‡∏ô‡πÑ‡∏ú‡πà',
          quantity: 5,
          price: 2500,
          total: 12500,
          size: '3-4 ‡πÄ‡∏°‡∏ï‡∏£'
        }
      ]
    };
  }
}

module.exports = new AIService();

